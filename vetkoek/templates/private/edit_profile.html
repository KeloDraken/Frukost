{% extends 'base.html' %}

{% block title %}Edit profile{% endblock %}

{% block body %}
<div class="w-full justify-center mx-auto px-44">
    <h1 class="text-3xl text-center mt-16 mb-0 font-bold">Update your Foxstraat profile</h1>
    <div class="flex justify-center mb-10">
        <form action="{% url 'accounts:edit-user-profile' %}" class="mt-7" method="post"  enctype="multipart/form-data">
            {% include 'components/messages.html' %}

            {% csrf_token %}

            {% for field in edit_profile_form %}
                {% if  not field.html_name == "password" %}
                    <label for="{{field.auto_id}}" class="text-black font-bold capitalize">
                        {% if field.html_name == "display_name" %}
                            Display name
                        {% elif field.html_name == "profile_pic" %}
                            Profile picture
                        {% elif field.html_name == "custom_html" %}
                            Custom styles
                        {% else %}
                            {{ field.html_name }}
                        {% endif %}
                    </label>
                {% endif %}

                <span class="text-red-600">{{field.errors}}</span>
                
                {% if not field.html_name == "password" %}
                    <p>{{field}}</p>
                {% endif %}
            {% endfor %}

            <div class="flex">
                <button class="bg-black text-white text-normal rounded font-extrabold px-5 py-2 mr-1 mt-3" type="submit">Save
                    changes</button>
                <a href="{% url 'accounts:user-logout' %}" class="text-black text-normal px-2 py-2 mr-1  mt-3 underline">or
                    sign out</a>
            </div>
        </form>
    </div>
    <div class="flex justify-center mb-10">
        <div class="w-full text-black px-3 py-5 mb-3 border-4 border-red-500 rounded bg-red-300">
            <h5 class="text-black text-2xl font-bold text-center">Dangerzone</h5>

            <ul class="text-black text-left font-bold mb-5">
                deleting your account will
                <li>
                    i. permanently remove your access to the site.
                </li>
                <li>
                    ii. put your username in `reserved` status, meaning that you or anyone else wishing to use it will
                    need to contact support.
                </li>
                <li>
                    iii. not delete any of your posts. you need to manually delete them yourself
                    before deleting your account
                </li>
            </ul>

            <a id="delete-account" class="bg-black text-white text-lg rounded font-bold px-4 py-3 mr-1 mb-3"
                href="{% url 'accounts:delete-user' %}">
                delete account
            </a>
        </div>
    </div>
    {% include 'components/footer.html' %}
</div>
{% endblock %}